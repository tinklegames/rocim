<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <script src="https://cdn.jsdelivr.net/npm/whatareyoutryingtodo/disable-devtool.min.js" disable-devtool-auto=""></script>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Race On Cars in Moscow</title>
  <style>
    html, body {
      width: 100%;
      height: 100%;
      padding: 0px;
      margin: 0px;
    }
    .fullscreen-canvas {
      background: #242424;
      width: 100%;
      height: 100%;
      position: absolute;
      top: 0px;
      left: 0px;
    }

    /* INTRO STYLES */
    body.intro-active {
      overflow: hidden;
    }

    #intro-screen {
      position: fixed;
      inset: 0;
      background-color: #414141;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      transition: opacity 0.7s ease, visibility 0.7s ease;
    }

    #intro-screen.hidden-intro {
      opacity: 0;
      visibility: hidden;
    }

    #intro-logo-wrapper {
      display: flex;
      flex-direction: column;
      align-items: center;
      animation: fadeIn 1s ease-out forwards;
    }

    #intro-title {
      font-family: "Orbitron", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      font-size: 42px;
      font-weight: 700;
      letter-spacing: 3px;
      margin-bottom: 20px;
      background: linear-gradient(90deg, #d3a410, #b7870f, #ffe4a1);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      filter: drop-shadow(0 0 8px rgba(211,165,16,0.4));
      opacity: 0;
      animation: titleFade 1s ease forwards 0.4s;
      text-align: center;
    }

    @keyframes titleFade {
      from {
        opacity: 0;
        transform: translateY(-12px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    /* SVG animations */
    @keyframes bounce {
      0%, 100% { translate: 0px 36px; }
      50% { translate: 0px 46px; }
    }

    @keyframes bounce2 {
      0%, 100% { translate: 0px 46px; }
      50% { translate: 0px 56px; }
    }

    @keyframes umbral {
      0%   { stop-color: #d3a5102e; }
      50%  { stop-color: rgba(211,165,16,0.519); }
      100% { stop-color: #d3a5102e; }
    }

    @keyframes particles {
      0%, 100% { translate: 0px 16px; }
      50%      { translate: 0px 6px; }
    }

    #particles {
      animation: particles 4s ease-in-out infinite;
    }

    #animatedStop {
      animation: umbral 4s infinite;
    }

    #bounce {
      animation: bounce 4s ease-in-out infinite;
      translate: 0px 36px;
    }

    #bounce2 {
      animation: bounce2 4s ease-in-out infinite;
      translate: 0px 46px;
      animation-delay: 0.5s;
    }
  </style>
  <script src="https://img.y8.com/prevent-keys.js"></script>
</head>
<body class="intro-active">
  <!-- INTRO SCREEN -->
  <div id="intro-screen">
    <div id="intro-logo-wrapper">
      <div id="intro-title">Tinkle Games</div>

      <svg xmlns="http://www.w3.org/2000/svg" height="200" width="200">
        <g style="order: -1;">
          <polygon
            transform="rotate(45 100 100)"
            stroke-width="1"
            stroke="#d3a410"
            fill="none"
            points="70,70 148,50 130,130 50,150"
            id="bounce"
          ></polygon>
          <polygon
            transform="rotate(45 100 100)"
            stroke-width="1"
            stroke="#d3a410"
            fill="none"
            points="70,70 148,50 130,130 50,150"
            id="bounce2"
          ></polygon>
          <polygon
            transform="rotate(45 100 100)"
            stroke-width="2"
            stroke=""
            fill="#414750"
            points="70,70 150,50 130,130 50,150"
          ></polygon>
          <polygon
            stroke-width="2"
            stroke=""
            fill="url(#gradiente)"
            points="100,70 150,100 100,130 50,100"
          ></polygon>
          <defs>
            <linearGradient y2="100%" x2="10%" y1="0%" x1="0%" id="gradiente">
              <stop style="stop-color: #1e2026;stop-opacity:1" offset="20%"></stop>
              <stop style="stop-color:#414750;stop-opacity:1" offset="60%"></stop>
            </linearGradient>
          </defs>
          <polygon
            transform="translate(20, 31)"
            stroke-width="2"
            stroke=""
            fill="#b7870f"
            points="80,50 80,75 80,99 40,75"
          ></polygon>
          <polygon
            transform="translate(20, 31)"
            stroke-width="2"
            stroke=""
            fill="url(#gradiente2)"
            points="40,-40 80,-40 80,99 40,75"
          ></polygon>
          <defs>
            <linearGradient y2="100%" x2="0%" y1="-17%" x1="10%" id="gradiente2">
              <stop style="stop-color: #d3a51000;stop-opacity:1" offset="20%"></stop>
              <stop
                style="stop-color:#d3a51054;stop-opacity:1"
                offset="100%"
                id="animatedStop"
              ></stop>
            </linearGradient>
          </defs>
          <polygon
            transform="rotate(180 100 100) translate(20, 20)"
            stroke-width="2"
            stroke=""
            fill="#d3a410"
            points="80,50 80,75 80,99 40,75"
          ></polygon>
          <polygon
            transform="rotate(0 100 100) translate(60, 20)"
            stroke-width="2"
            stroke=""
            fill="url(#gradiente3)"
            points="40,-40 80,-40 80,85 40,110.2"
          ></polygon>
          <defs>
            <linearGradient y2="100%" x2="10%" y1="0%" x1="0%" id="gradiente3">
              <stop style="stop-color: #d3a51000;stop-opacity:1" offset="20%"></stop>
              <stop
                style="stop-color:#d3a51054;stop-opacity:1"
                offset="100%"
              ></stop>
            </linearGradient>
          </defs>
          <polygon
            transform="rotate(45 100 100) translate(80, 95)"
            stroke-width="2"
            stroke=""
            fill="#ffe4a1"
            points="5,0 5,5 0,5 0,0"
            id="particles"
          ></polygon>
          <polygon
            transform="rotate(45 100 100) translate(80, 55)"
            stroke-width="2"
            stroke=""
            fill="#ccb069"
            points="6,0 6,6 0,6 0,0"
            id="particles"
          ></polygon>
          <polygon
            transform="rotate(45 100 100) translate(70, 80)"
            stroke-width="2"
            stroke=""
            fill="#fff"
            points="2,0 2,2 0,2 0,0"
            id="particles"
          ></polygon>
          <polygon
            stroke-width="2"
            stroke=""
            fill="#292d34"
            points="29.5,99.8 100,142 100,172 29.5,130"
          ></polygon>
          <polygon
            transform="translate(50, 92)"
            stroke-width="2"
            stroke=""
            fill="#1f2127"
            points="50,50 120.5,8 120.5,35 50,80"
          ></polygon>
        </g>
      </svg>
    </div>
  </div>
  <!-- END INTRO -->

  <canvas id="canvas" class="fullscreen-canvas"></canvas>
  <script src="./playgama-bridge.js"></script>
  <script>
    if (/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)) {
      let meta = document.createElement('meta')
      meta.name = 'viewport'
      meta.content = 'width=device-width, height=device-height, initial-scale=1.0, user-scalable=no, shrink-to-fit=yes'
      document.getElementsByTagName('head')[0].appendChild(meta)
    }

    let canvas = document.getElementById('canvas')

    const STORAGE_DATA_SEPARATOR = '{bridge_data_separator}'
    const STORAGE_KEYS_SEPARATOR = '{bridge_keys_separator}'
    const STORAGE_VALUES_SEPARATOR = '{bridge_values_separator}'
    
    // utils
    window.unityInstance = null

    function sendMessageToUnity(name, value) {
      if (window.unityInstance !== null) {
        window.unityInstance.SendMessage('PlaygamaBridge', name, value)
      }
    }

    function onUnityLoadingProgressChanged(progress) {
      bridge.game.setLoadingProgress(progress * 100)
    }
    
    window.addEventListener('pointerdown', () => {
      window.focus()
      canvas.focus()
    })
    
    // initialization
    bridge.engine = 'unity'
    bridge
      .initialize()
      .then(() => {
        bridge.game.setLoadingProgress(0)
        bridge.advertisement.on('banner_state_changed', state => sendMessageToUnity('OnBannerStateChanged', state))
        bridge.advertisement.on('interstitial_state_changed', state => sendMessageToUnity('OnInterstitialStateChanged', state))
        bridge.advertisement.on('rewarded_state_changed', state => sendMessageToUnity('OnRewardedStateChanged', state))
        bridge.game.on('visibility_state_changed', state => sendMessageToUnity('OnVisibilityStateChanged', state))
        bridge.platform.on('audio_state_changed', isEnabled => sendMessageToUnity('OnAudioStateChanged', isEnabled.toString()))
        bridge.platform.on('pause_state_changed', isPaused => sendMessageToUnity('OnPauseStateChanged', isPaused.toString()))

        let unityLoader = document.createElement('script')
        unityLoader.src = 'Build/car.loader.js'
        unityLoader.onload = () => {
          createUnityInstance(
            canvas,
            {
              dataUrl: 'Build/car.data.br',
              frameworkUrl: 'Build/car.framework.js.br',
              codeUrl: 'Build/car.wasm.br',
              streamingAssetsUrl: 'StreamingAssets',
              companyName: '102SQUAD',
              productName: 'ШАШКИ На Машинах по Москве',
              productVersion: '1.0',
            },
            onUnityLoadingProgressChanged)
            .then((unityInstance) => {
              window.unityInstance = unityInstance
              canvas.focus()
            })
            .catch((error) => {
              console.error(error)
            })
        }
        document.body.appendChild(unityLoader)
      })
      .catch(error => console.error(error))
    

    // platform
    window.getPlatformId = function() {
      return bridge.platform.id
    }

    window.getPlatformLanguage = function() {
      return bridge.platform.language
    }

    window.getPlatformPayload = function() {
      let payload = bridge.platform.payload
      if (typeof payload === 'string') {
        return payload
      } else {
        return ''
      }
    }

    window.getPlatformTld = function() {
      let tld = bridge.platform.tld
      if (typeof tld === 'string') {
        return tld
      } else {
        return ''
      }
    }

    window.getIsPlatformAudioEnabled = function() {
      return bridge.platform.isAudioEnabled.toString()
    }

    window.getIsPlatformGetAllGamesSupported = function() {
      return bridge.platform.isGetAllGamesSupported.toString()
    }

    window.getIsPlatformGetGameByIdSupported = function() {
      return bridge.platform.isGetGameByIdSupported.toString()
    }

    window.sendMessageToPlatform = function(message) {
      bridge.platform.sendMessage(message)
    }

    window.getServerTime = function() {
      bridge.platform.getServerTime()
        .then(result => {
          sendMessageToUnity('OnGetServerTimeCompleted', result.toString())
        })
        .catch(error => {
          sendMessageToUnity('OnGetServerTimeCompleted', 'false')
        })
    }

    window.getAllGames = function() {
      bridge.platform.getAllGames()
        .then(result => {
          sendMessageToUnity('OnGetAllGamesCompletedSuccess', JSON.stringify(result))
        })
        .catch(error => {
          sendMessageToUnity('OnGetAllGamesCompletedFailed')
        })
    }

    window.getGameById = function(options) {
      if (options) {
        options = JSON.parse(options)
      } else {
        options = { }
      }

      bridge.platform.getGameById(options)
        .then(result => {
          sendMessageToUnity('OnGetGameByIdCompletedSuccess', JSON.stringify(result))
        })
        .catch(error => {
          sendMessageToUnity('OnGetGameByIdCompletedFailed')
        })
    }

    // device
    window.getDeviceType = function() {
      return bridge.device.type
    }


    // player
    window.getIsPlayerAuthorizationSupported = function() {
      return bridge.player.isAuthorizationSupported.toString()
    }

    window.getIsPlayerAuthorized = function() {
      return bridge.player.isAuthorized.toString()
    }

    window.getPlayerId = function() {
      if (bridge.player.id) {
        return bridge.player.id.toString()
      }

      return ''
    }

    window.getPlayerName = function() {
      if (bridge.player.name) {
        return bridge.player.name.toString()
      }

      return ''
    }

    window.getPlayerPhotos = function() {
      if (bridge.player.photos.length > 0) {
        return JSON.stringify(bridge.player.photos)
      }

      return ''
    }

    window.getPlayerExtra = function() {
      if (bridge.player.extra) {
        return JSON.stringify(bridge.player.extra)
      }

      return ''
    }

    window.authorizePlayer = function(options) {
      if (options) {
        options = JSON.parse(options)
      }

      bridge.player.authorize(options)
        .then(() => {
          sendMessageToUnity('OnAuthorizeCompleted', 'true')
        })
        .catch(error => {
          sendMessageToUnity('OnAuthorizeCompleted', 'false')
        })
    }


    // game
    window.getVisibilityState = function() {
      return bridge.game.visibilityState
    }


    // storage
    window.getStorageDefaultType = function() {
      return bridge.storage.defaultType
    }

    window.getIsStorageSupported = function(storageType) {
      return bridge.storage.isSupported(storageType).toString()
    }

    window.getIsStorageAvailable = function(storageType) {
      return bridge.storage.isAvailable(storageType).toString()
    }

    window.getStorageData = function(key, storageType) {
      let keys = key.split(STORAGE_KEYS_SEPARATOR)

      bridge.storage.get(keys, storageType, false)
        .then(data => {
          if (keys.length > 1) {
            let values = []

            for (let i = 0; i < keys.length; i++) {
              let value = data[i]
              if (value) {
                if (typeof value !== 'string') {
                  value = JSON.stringify(value)
                }

                values.push(value)
              } else {
                values.push('')
              }
            }

            sendMessageToUnity('OnGetStorageDataSuccess', `${key}${STORAGE_DATA_SEPARATOR}${values.join(STORAGE_VALUES_SEPARATOR)}`)
          } else {
            if (data[0]) {
              if (typeof data[0] !== 'string') {
                data = JSON.stringify(data[0])
              }
            } else {
              data = ''
            }

            sendMessageToUnity('OnGetStorageDataSuccess', `${key}${STORAGE_DATA_SEPARATOR}${data}`)
          }
        })
        .catch(error => {
          sendMessageToUnity('OnGetStorageDataFailed', key)
        })
    }

    window.setStorageData = function(key, value, storageType) {
      let keys = key.split(STORAGE_KEYS_SEPARATOR)
      let values = value.split(STORAGE_VALUES_SEPARATOR)

      bridge.storage.set(keys, values, storageType)
        .then(() => {
          sendMessageToUnity('OnSetStorageDataSuccess', key)
        })
        .catch(error => {
          sendMessageToUnity('OnSetStorageDataFailed', key)
        })
    }

    window.deleteStorageData = function(key, storageType) {
      let keys = key.split(STORAGE_KEYS_SEPARATOR)

      bridge.storage.delete(keys, storageType)
        .then(() => {
          sendMessageToUnity('OnDeleteStorageDataSuccess', key)
        })
        .catch(error => {
          sendMessageToUnity('OnDeleteStorageDataFailed', key)
        })
    }


    // advertisement
    window.getInterstitialState = function() {
      if (bridge.advertisement.interstitialState) {
        return bridge.advertisement.interstitialState
      } else {
        return ''
      }
    }

    window.getIsBannerSupported = function() {
      return bridge.advertisement.isBannerSupported.toString()
    }

    window.getIsInterstitialSupported = function() {
      return bridge.advertisement.isInterstitialSupported.toString()
    }
    
    window.getMinimumDelayBetweenInterstitial = function() {
      return bridge.advertisement.minimumDelayBetweenInterstitial.toString()
    }

    window.setMinimumDelayBetweenInterstitial = function(options) {
      bridge.advertisement.setMinimumDelayBetweenInterstitial(options)
    }

    window.getIsRewardedSupported = function() {
      return bridge.advertisement.isRewardedSupported.toString()
    }

    window.getRewardedPlacement = function() {
      if (bridge.advertisement.rewardedPlacement) {
        return bridge.advertisement.rewardedPlacement
      } else {
        return ''
      }
    }

    window.showBanner = function(position, placement) {
      bridge.advertisement.showBanner(position, placement)
    }

    window.hideBanner = function() {
      bridge.advertisement.hideBanner()
    }

    window.showInterstitial = function(placement) {
      bridge.advertisement.showInterstitial(placement)
    }

    window.showRewarded = function(placement) {
      bridge.advertisement.showRewarded(placement)
    }

    window.checkAdBlock = function() {
      bridge.advertisement.checkAdBlock()
        .then(result => {
          sendMessageToUnity('OnCheckAdBlockCompleted', result.toString())
        })
        .catch(error => {
          sendMessageToUnity('OnCheckAdBlockCompleted', 'false')
        })
    }


    // social
    window.getIsShareSupported = function() {
      return bridge.social.isShareSupported.toString()
    }

    window.getIsInviteFriendsSupported = function() {
      return bridge.social.isInviteFriendsSupported.toString()
    }

    window.getIsJoinCommunitySupported = function() {
      return bridge.social.isJoinCommunitySupported.toString()
    }

    window.getIsCreatePostSupported = function() {
      return bridge.social.isCreatePostSupported.toString()
    }

    window.getIsAddToHomeScreenSupported = function() {
      return bridge.social.isAddToHomeScreenSupported.toString()
    }

    window.getIsAddToFavoritesSupported = function() {
      return bridge.social.isAddToFavoritesSupported.toString()
    }

    window.getIsRateSupported = function() {
      return bridge.social.isRateSupported.toString()
    }

    window.getIsExternalLinksAllowed = function() {
      return bridge.social.isExternalLinksAllowed.toString()
    }

    window.share = function(options) {
      if (options) {
        options = JSON.parse(options)
      }

      bridge.social.share(options)
        .then(() => {
          sendMessageToUnity('OnShareCompleted', 'true')
        })
        .catch(error => {
          sendMessageToUnity('OnShareCompleted', 'false')
        })
    }

    window.inviteFriends = function(options) {
      if (options) {
        options = JSON.parse(options)
      }
      
      bridge.social.inviteFriends(options)
        .then(() => {
          sendMessageToUnity('OnInviteFriendsCompleted', 'true')
        })
        .catch(error => {
          sendMessageToUnity('OnInviteFriendsCompleted', 'false')
        })
    }

    window.joinCommunity = function(options) {
      if (options) {
        options = JSON.parse(options)
      }

      bridge.social.joinCommunity(options)
        .then(() => {
          sendMessageToUnity('OnJoinCommunityCompleted', 'true')
        })
        .catch(error => {
          sendMessageToUnity('OnJoinCommunityCompleted', 'false')
        })
    }

    window.createPost = function(options) {
      if (options) {
        options = JSON.parse(options)
      }

      bridge.social.createPost(options)
        .then(() => {
          sendMessageToUnity('OnCreatePostCompleted', 'true')
        })
        .catch(error => {
          sendMessageToUnity('OnCreatePostCompleted', 'false')
        })
    }

    window.addToHomeScreen = function() {
      bridge.social.addToHomeScreen()
        .then(() => {
          sendMessageToUnity('OnAddToHomeScreenCompleted', 'true')
        })
        .catch(error => {
          sendMessageToUnity('OnAddToHomeScreenCompleted', 'false')
        })
    }

    window.addToFavorites = function() {
      bridge.social.addToFavorites()
        .then(() => {
          sendMessageToUnity('OnAddToFavoritesCompleted', 'true')
        })
        .catch(error => {
          sendMessageToUnity('OnAddToFavoritesCompleted', 'false')
        })
    }

    window.rate = function() {
      bridge.social.rate()
        .then(() => {
          sendMessageToUnity('OnRateCompleted', 'true')
        })
        .catch(error => {
          sendMessageToUnity('OnRateCompleted', 'false')
        })
    }


    // leaderboards
    window.getLeaderboardsType = function() {
      return bridge.leaderboards.type
    }

    window.leaderboardsSetScore = function(id, score) {
      score = parseInt(score)
      bridge.leaderboards.setScore(id, score)
        .then(() => {
          sendMessageToUnity('OnLeaderboardsSetScoreCompleted', 'true')
        })
        .catch(error => {
          sendMessageToUnity('OnLeaderboardsSetScoreCompleted', 'false')
        })
    }

    window.leaderboardsGetEntries = function(id) {
      bridge.leaderboards.getEntries(id)
        .then(data => {
          if (data) {
            sendMessageToUnity('OnLeaderboardsGetEntriesCompletedSuccess', JSON.stringify(data))
          } else {
            sendMessageToUnity('OnLeaderboardsGetEntriesCompletedSuccess', '')
          }
        })
        .catch(error => {
          sendMessageToUnity('OnLeaderboardsGetEntriesCompletedFailed', 'false')
        })
    }
    
    window.leaderboardsShowNativePopup = function(id) {
      bridge.leaderboards.showNativePopup(id)
        .then(() => {
          sendMessageToUnity('OnLeaderboardsShowNativePopupCompleted', 'true')
        })
        .catch(error => {
          sendMessageToUnity('OnLeaderboardsShowNativePopupCompleted', 'false')
        })
    }

    window.getIsPaymentsSupported = function() {
      return bridge.payments.isSupported.toString()
    }

    window.paymentsPurchase = function(id) {
      bridge.payments.purchase(id)
        .then(data => {
          if (data) {
            if (typeof data !== 'string') {
              data = JSON.stringify(data)
            }

            sendMessageToUnity('OnPaymentsPurchaseCompleted', data)
          } else {
            sendMessageToUnity('OnPaymentsPurchaseCompleted', '')
          }
        })
        .catch(error => {
          sendMessageToUnity('OnPaymentsPurchaseFailed', '')
        })
    }

    window.paymentsConsumePurchase = function(id) {
      bridge.payments.consumePurchase(id)
        .then(data => {
          if (data) {
            if (typeof data !== 'string') {
              data = JSON.stringify(data)
            }

            sendMessageToUnity('OnPaymentsConsumePurchaseCompleted', data)
          } else {
            sendMessageToUnity('OnPaymentsConsumePurchaseCompleted', '')
          }
        })
        .catch(error => {
          sendMessageToUnity('OnPaymentsConsumePurchaseFailed', '')
        })
    }

    window.paymentsGetCatalog = function() {
      bridge.payments.getCatalog()
        .then(data => {
          if (data) {
            if (typeof data !== 'string') {
              data = JSON.stringify(data)
            }

            sendMessageToUnity('OnPaymentsGetCatalogCompletedSuccess', data)
          } else {
            sendMessageToUnity('OnPaymentsGetCatalogCompletedSuccess', '')
          }
        })
        .catch(error => {
          sendMessageToUnity('OnPaymentsGetCatalogCompletedFailed', '')
        })
    }

    window.paymentsGetPurchases = function() {
      bridge.payments.getPurchases()
        .then(data => {
          if (data) {
            if (typeof data !== 'string') {
              data = JSON.stringify(data)
            }

            sendMessageToUnity('OnPaymentsGetPurchasesCompletedSuccess', data)
          } else {
            sendMessageToUnity('OnPaymentsGetPurchasesCompletedSuccess', '')
          }
        })
        .catch(error => {
          sendMessageToUnity('OnPaymentsGetPurchasesCompletedFailed', '')
        })
    }

    window.getIsRemoteConfigSupported = function() {
      return bridge.remoteConfig.isSupported.toString()
    }

    window.remoteConfigGet = function(options) {
      if (options) {
        options = JSON.parse(options)
      }

      bridge.remoteConfig.get(options)
        .then(data => {
          if (typeof data !== 'string') {
            data = JSON.stringify(data)
          }
          
          sendMessageToUnity('OnRemoteConfigGetSuccess', data)
        })
        .catch(error => {
          sendMessageToUnity('OnRemoteConfigGetFailed', '')
        })
    }

    window.getIsAchievementsSupported = function() {
      return bridge.achievements.isSupported.toString()
    }

    window.getIsGetAchievementsListSupported = function() {
      return bridge.achievements.isGetListSupported.toString()
    }

    window.getIsAchievementsNativePopupSupported = function() {
      return bridge.achievements.isNativePopupSupported.toString()
    }

    window.achievementsUnlock = function(options) {
      if (options) {
        options = JSON.parse(options)
      }

      bridge.achievements.unlock(options)
        .then(() => {
          sendMessageToUnity('OnAchievementsUnlockCompleted', 'true')
        })
        .catch(error => {
          sendMessageToUnity('OnAchievementsUnlockCompleted', 'false')
        })
    }

    window.achievementsShowNativePopup = function(options) {
      if (options) {
        options = JSON.parse(options)
      }
      
      bridge.achievements.showNativePopup(options)
        .then(() => {
          sendMessageToUnity('OnAchievementsShowNativePopupCompleted', 'true')
        })
        .catch(error => {
          sendMessageToUnity('OnAchievementsShowNativePopupCompleted', 'false')
        })
    }

    window.achievementsGetList = function(options) {
      if (options) {
        options = JSON.parse(options)
      }

      bridge.achievements.getList(options)
        .then(data => {
          if (data) {
            if (typeof data !== 'string') {
              data = JSON.stringify(data)
            }

            sendMessageToUnity('OnAchievementsGetListCompletedSuccess', data)
          } else {
            sendMessageToUnity('OnAchievementsGetListCompletedSuccess', '')
          }
        })
        .catch(error => {
          sendMessageToUnity('OnAchievementsGetListCompletedFailed', 'false')
        })
    }

    // INTRO FADE-OUT
    window.addEventListener("load", () => {
      const intro = document.getElementById("intro-screen");
      if (!intro) return;

      setTimeout(() => {
        intro.classList.add("hidden-intro");
        document.body.classList.remove("intro-active");

        setTimeout(() => {
          intro.remove();
        }, 800);
      }, 2000); // show intro ~2s
    });
  </script>
</body>
</html>
